<VirtualHost *:80>
ServerName lhpuat.zeomega.com
Redirect / https://lhpuat.zeomega.com/
</VirtualHost>


<VirtualHost 0.0.0.0:443>
ServerName lhpuat.zeomega.com

SSLEngine on

SSLProtocol -ALL +SSLv3 +TLSv1
SSLCipherSuite ALL:!aNULL:!ADH:!eNULL:!LOW:!EXP:RC4+RSA:+HIGH:+MEDIUM
SSLCertificateChainFile conf/ca.crt
SSLCertificateFile conf/jiva.crt
SSLCertificateKeyFile conf/jiva.key

ProxyPass /balancer-manager !
<Location /balancer-manager>
    SetHandler balancer-manager
    Order Deny,Allow
    Require valid-user
    AuthType Basic
    AuthName "Sysadmins Are Authenticated To Access"
    AuthUserFile conf/htpasswd
	Deny from all
    Allow from all 
</Location>

BrowserMatch ".*MSIE.*" \
nokeepalive ssl-unclean-shutdown \
downgrade-1.0 force-response-1.0 

<Proxy balancer://lhpuat>
BalancerMember http://10.0.3.5:8701/
BalancerMember http://10.0.3.5:8702/
BalancerMember http://10.0.3.5:8703/
BalancerMember http://10.0.3.5:8704/
BalancerMember http://10.0.3.5:8705/
BalancerMember http://10.0.3.5:8706/
BalancerMember http://10.0.3.5:8707/
BalancerMember http://10.0.3.5:8708/
</Proxy>

<Proxy balancer://lhpuat_cluster2_SSL>
BalancerMember http://10.0.3.5:8707/
BalancerMember http://10.0.3.5:8708/
</Proxy>

ProxyPassMatch ^/(.*/printNotification)$ balancer://lhpuat_cluster2_SSL/VirtualHostBase/https/lhpuat.zeomega.com:443/VirtualHostRoot/$1 lbmethod=byrequests
ProxyPassMatch ^/(.*/attachFaxes)$ balancer://lhpuat_cluster2_SSL/VirtualHostBase/https/lhpuat.zeomega.com:443/VirtualHostRoot/$1 lbmethod=byrequests
ProxyPassMatch ^/(.*/createPdfDocument)$ balancer://lhpuat_cluster2_SSL/VirtualHostBase/https/lhpuat.zeomega.com:443/VirtualHostRoot/$1 lbmethod=byrequests
ProxyPassMatch ^/(.*/getSearchPageForDuplicatePatient)$ balancer://lhpuat_cluster2_SSL/VirtualHostBase/https/lhpuat.zeomega.com:443/VirtualHostRoot/$1 lbmethod=byrequests
ProxyPassMatch ^/(.*/openFaxFile)$ balancer://lhpuat_cluster2_SSL/VirtualHostBase/https/lhpuat.zeomega.com:443/VirtualHostRoot/$1 lbmethod=byrequests
ProxyPassMatch ^/(.*/getFilesFromFolder)$ balancer://lhpuat_cluster2_SSL/VirtualHostBase/https/lhpuat.zeomega.com:443/VirtualHostRoot/$1 lbmethod=byrequests
ProxyPassMatch ^/(.*/getDocument)$ balancer://lhpuat_cluster2_SSL/VirtualHostBase/https/lhpuat.zeomega.com:443/VirtualHostRoot/$1 lbmethod=byrequests

ProxyPass / balancer://lhpuat/VirtualHostBase/https/lhpuat.zeomega.com:443/cms/ZeUI/VirtualHostRoot/ lbmethod=byrequests
ProxyPassReverse /  https://lhpuat.zeomega.com
</VirtualHost>
